import{o as e,a as c,w as T}from"./chunk-QMGIS6GS-DqORk8pi.js";import{u as m,g as b,h as v}from"./link-C8-_o7Eo.js";import{T as C,B as z,L as D,a as L}from"./Table-duDDh2PH.js";import{S as R}from"./ScanDialog-CbVRp-B1.js";import{L as p}from"./List-CJcBbO-e.js";import{L as f}from"./ListItem-ALYhS3Y6.js";import"./index-DiSreKSV.js";const s={container:{width:"100%",display:"flex",flexDirection:"column",flexGrow:1,paddingTop:"20px"},sessions:{paddingTop:"20px",paddingLeft:"10px",paddingRight:"10px"},list:{padding:"0px",width:"100%"},item:{display:"flex",flexDirection:"row",alignItems:"stretch",paddingLeft:"0px",paddingBottom:"0px",paddingRight:"0px",paddingTop:"10px"},workspaceItem:{paddingTop:"20px"},sideFrame:{marginTop:"0.5rem",marginRight:"5px",width:"10px",borderColor:"black",borderStyle:"solid",borderLeftWidth:"1px",borderTopWidth:"1px"},itemContent:{display:"flex",flexDirection:"column",flexGrow:1},actionbar:{display:"flex",flexDirection:"row",justifyContent:"end",gap:"5px"},day:{textAlign:"right"}};function I({sessions:o,programs:i,workspaces:r}){const t=m();return e.jsxs("div",{style:s.container,children:[e.jsx("div",{style:{color:t.colors3.text1,fontSize:t.font.sizes.normal},children:"Recent Sessions"}),e.jsx("div",{style:{color:t.colors3.text2,fontSize:t.font.sizes.lower2},children:"Yesterday, Today, and Tomorrow"}),o.length===0?e.jsxs("div",{style:{color:t.colors3.text2,fontSize:t.font.sizes.normal,flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center"},children:["No recent sessions.",e.jsx("br",{}),"Get started by creating a session."]}):e.jsx(O,{sessions:o,programs:i,workspaces:r})]})}function O({sessions:o,programs:i,workspaces:r}){const t=m(),h=b(),[u,y]=c.useState([]),[g,x]=c.useState(!1),[j,w]=c.useState({}),S=a=>{w(a),x(!0)};return c.useEffect(()=>{let a=r.map(l=>({...l,programs:i.filter(n=>n.workspaceId==l.id).map(n=>({...n,sessions:o.filter(d=>d.programId==n.id)}))}));y(a)},[o,i,r]),e.jsxs("section",{style:s.sessions,children:[e.jsx(p,{sx:s.list,children:u.map(a=>e.jsxs(f,{style:{...s.item,...s.workspaceItem},children:[e.jsx("div",{style:{...s.sideFrame,borderColor:t.colors3.divider}}),e.jsxs("div",{style:s.itemContent,children:[e.jsx("div",{style:{fontWeight:"bold",fontSize:t.font.sizes.lower2},children:a.name}),e.jsx(p,{sx:s.list,children:a.programs.map(l=>e.jsxs(f,{style:s.item,children:[e.jsx("div",{style:{...s.sideFrame,borderColor:t.colors3.divider}}),e.jsxs("div",{style:s.itemContent,children:[e.jsx("div",{style:{fontWeight:"bold",fontSize:t.font.sizes.lower2},children:l.name}),e.jsx(C,{data:l.sessions,fields:["session","day","scan"],getId:n=>n.id,sxCell:(n,d)=>{switch(d){case"scan":return{width:"30%"}}return{}},renderCell:(n,d)=>{switch(d){case"session":return e.jsx(D,{href:h(n),style:{...s.program,color:t.colors3.text1,textDecorationColor:t.colors3.text1,textUnderlineOffset:t.font.sizes.textUnderlineOffset,fontSize:t.font.sizes.normal},children:n.name});case"day":return e.jsx("div",{style:s.day,children:F(new Date(n.happensAt))});case"scan":return e.jsx("div",{style:s.actionbar,children:e.jsx(z,{onClick:()=>S(n),children:"Scan"})})}}})]})]},l.id))})]})]},a.id))}),e.jsx(R,{open:g,setOpen:x,session:j})]})}function F(o){const i=Date.now(),r=i-24*60*60*1e3/2,t=i+24*60*60*1e3/2;return o.getTime()<r?"Yesterday":o.getTime()<t?"Today":"Tomorrow"}function W(){const{data:{sessions:o=[],programs:i=[],workspaces:r=[]}={}}=v();return e.jsx(L,{currentPage:"home",children:e.jsx(I,{sessions:o,programs:i,workspaces:r})})}function P({}){return[{title:"New React Router App"},{name:"description",content:"Welcome to React Router!"}]}const Y=T(function(){return e.jsx(W,{})});export{Y as default,P as meta};
